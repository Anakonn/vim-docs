---
description: این سند به شما روش‌های مختلف شروع کار با ویم از ترمینال را آموزش می‌دهد
  و نکات مهم نصب و استفاده از آن را بررسی می‌کند.
title: Ch01. Starting Vim
---

در این فصل، شما با روش‌های مختلف شروع Vim از ترمینال آشنا خواهید شد. من هنگام نوشتن این راهنما از Vim 8.2 استفاده می‌کردم. اگر از Neovim یا نسخه قدیمی‌تری از Vim استفاده می‌کنید، بیشتر موارد باید خوب کار کند، اما به این نکته توجه داشته باشید که ممکن است برخی از دستورات در دسترس نباشند.

## نصب

من به جزئیات نحوه نصب Vim بر روی یک ماشین خاص نمی‌پردازم. خبر خوب این است که بیشتر کامپیوترهای مبتنی بر یونیکس باید با Vim نصب شده باشند. اگر نه، بیشتر توزیع‌ها باید دستورالعمل‌هایی برای نصب Vim داشته باشند.

برای دانلود اطلاعات بیشتر در مورد فرآیند نصب Vim، به وب‌سایت رسمی دانلود Vim یا مخزن رسمی گیت‌هاب Vim مراجعه کنید:
- [وب‌سایت Vim](https://www.vim.org/download.php)
- [گیت‌هاب Vim](https://github.com/vim/vim)

## فرمان Vim

حالا که Vim را نصب کرده‌اید، این را از ترمینال اجرا کنید:

```bash
vim
```

شما باید یک صفحه معرفی را ببینید. این جایی است که شما بر روی فایل جدید خود کار خواهید کرد. برخلاف بیشتر ویرایشگرهای متنی و IDEها، Vim یک ویرایشگر مدال است. اگر می‌خواهید "hello" تایپ کنید، باید به حالت درج با `i` سوئیچ کنید. `ihello<Esc>` را فشار دهید تا متن "hello" را وارد کنید.

## خروج از Vim

چندین راه برای خروج از Vim وجود دارد. رایج‌ترین آن این است که تایپ کنید:

```shell
:quit
```

شما می‌توانید برای کوتاه‌تر کردن، `:q` را تایپ کنید. آن فرمان یک فرمان در حالت خط فرمان است (یکی دیگر از حالت‌های Vim). اگر در حالت نرمال `:` را تایپ کنید، نشانگر به پایین صفحه منتقل می‌شود جایی که می‌توانید برخی دستورات را تایپ کنید. شما در فصل 15 در مورد حالت خط فرمان بیشتر خواهید آموخت. اگر در حالت درج هستید، تایپ `:` به معنای واقعی کاراکتر ":" را روی صفحه تولید می‌کند. در این حالت، شما باید به حالت نرمال برگردید. برای سوئیچ به حالت نرمال، `<Esc>` را تایپ کنید. به هر حال، شما همچنین می‌توانید از حالت خط فرمان به حالت نرمال با فشار دادن `<Esc>` بازگردید. شما متوجه خواهید شد که می‌توانید از چندین حالت Vim به حالت نرمال با فشار دادن `<Esc>` "فرار" کنید.

## ذخیره یک فایل

برای ذخیره تغییرات خود، تایپ کنید:

```shell
:write
```

شما همچنین می‌توانید برای کوتاه‌تر کردن، `:w` را تایپ کنید. اگر این یک فایل جدید است، باید قبل از ذخیره آن نامی به آن بدهید. بیایید آن را `file.txt` نام‌گذاری کنیم. اجرا کنید:

```shell
:w file.txt
```

برای ذخیره و خروج، می‌توانید دستورات `:w` و `:q` را ترکیب کنید:

```shell
:wq
```

برای خروج بدون ذخیره هرگونه تغییر، `!` را بعد از `:q` اضافه کنید تا به زور خارج شوید:

```shell
:q!
```

روش‌های دیگری برای خروج از Vim وجود دارد، اما این‌ها روش‌هایی هستند که شما به طور روزمره استفاده خواهید کرد.

## کمک

در طول این راهنما، من به صفحات کمک مختلف Vim ارجاع می‌زنم. شما می‌توانید با تایپ `:help {some-command}` (`:h` برای کوتاه) به صفحه کمک بروید. شما می‌توانید موضوع یا نام یک فرمان را به عنوان آرگومان به فرمان `:h` منتقل کنید. به عنوان مثال، برای یادگیری درباره روش‌های مختلف خروج از Vim، تایپ کنید:

```shell
:h write-quit
```

چگونه فهمیدم که باید به دنبال "write-quit" بگردم؟ در واقع نمی‌دانستم. من فقط `:h` را تایپ کردم، سپس "quit" را نوشتم، سپس `<Tab>` را فشار دادم. Vim کلمات کلیدی مرتبطی را برای انتخاب نمایش داد. اگر هرگز نیاز به جستجوی چیزی داشتید ("ای کاش Vim می‌توانست این کار را انجام دهد...")، فقط `:h` را تایپ کنید و چند کلمه کلیدی را امتحان کنید، سپس `<Tab>` را فشار دهید.

## باز کردن یک فایل

برای باز کردن یک فایل (`hello1.txt`) در Vim از ترمینال، اجرا کنید:

```bash
vim hello1.txt
```

شما همچنین می‌توانید چندین فایل را به طور همزمان باز کنید:

```bash
vim hello1.txt hello2.txt hello3.txt
```

Vim فایل‌های `hello1.txt`، `hello2.txt` و `hello3.txt` را در بافرهای جداگانه باز می‌کند. شما در فصل بعدی درباره بافرها خواهید آموخت.

## آرگومان‌ها

شما می‌توانید فرمان ترمینال `vim` را با پرچم‌ها و گزینه‌های مختلف منتقل کنید.

برای بررسی نسخه فعلی Vim، اجرا کنید:

```bash
vim --version
```

این به شما نسخه فعلی Vim و تمام ویژگی‌های موجود را که با `+` یا `-` علامت‌گذاری شده‌اند، می‌گوید. برخی از این ویژگی‌ها در این راهنما به ویژگی‌های خاصی نیاز دارند. به عنوان مثال، شما در فصل بعدی با فرمان `:history` تاریخچه خط فرمان Vim را بررسی خواهید کرد. Vim شما باید ویژگی `+cmdline_history` را داشته باشد تا فرمان کار کند. احتمال خوبی وجود دارد که Vim که تازه نصب کرده‌اید تمام ویژگی‌های لازم را داشته باشد، به ویژه اگر از یک منبع دانلود محبوب باشد.

بسیاری از کارهایی که از ترمینال انجام می‌دهید، همچنین می‌توانند از داخل Vim انجام شوند. برای دیدن نسخه از *داخل* Vim، می‌توانید این را اجرا کنید:

```shell
:version
```

اگر می‌خواهید فایل `hello.txt` را باز کنید و بلافاصله یک فرمان Vim را اجرا کنید، می‌توانید گزینه `+{cmd}` را به فرمان `vim` منتقل کنید.

در Vim، می‌توانید رشته‌ها را با فرمان `:s` (کوتاه شده برای `:substitute`) جایگزین کنید. اگر می‌خواهید `hello.txt` را باز کنید و تمام "pancake" را با "bagel" جایگزین کنید، اجرا کنید:

```bash
vim +%s/pancake/bagel/g hello.txt
```

این دستورات Vim می‌توانند به صورت زنجیره‌ای استفاده شوند:

```bash
vim +%s/pancake/bagel/g +%s/bagel/egg/g +%s/egg/donut/g hello.txt
```

Vim تمام موارد "pancake" را با "bagel" جایگزین می‌کند، سپس "bagel" را با "egg" جایگزین می‌کند، سپس "egg" را با "donut" جایگزین می‌کند (شما در فصل بعدی درباره جایگزینی خواهید آموخت).

شما همچنین می‌توانید گزینه `-c` را به همراه یک فرمان Vim به جای نحو `+` منتقل کنید:

```bash
vim -c %s/pancake/bagel/g hello.txt
vim -c %s/pancake/bagel/g -c %s/bagel/egg/g -c %s/egg/donut/g hello.txt
```

## باز کردن چندین پنجره

شما می‌توانید Vim را با پنجره‌های افقی و عمودی تقسیم شده با گزینه‌های `-o` و `-O` راه‌اندازی کنید.

برای باز کردن Vim با دو پنجره افقی، اجرا کنید:

```bash
vim -o2
```

برای باز کردن Vim با 5 پنجره افقی، اجرا کنید:

```bash
vim -o5
```

برای باز کردن Vim با 5 پنجره افقی و پر کردن دو پنجره اول با `hello1.txt` و `hello2.txt`، اجرا کنید:

```bash
vim -o5 hello1.txt hello2.txt
```

برای باز کردن Vim با دو پنجره عمودی، 5 پنجره عمودی و 5 پنجره عمودی با 2 فایل:

```bash
vim -O2
vim -O5
vim -O5 hello1.txt hello2.txt
```

## تعلیق

اگر در حین ویرایش نیاز به تعلیق Vim دارید، می‌توانید `Ctrl-z` را فشار دهید. همچنین می‌توانید فرمان `:stop` یا `:suspend` را اجرا کنید. برای بازگشت به Vim معلق، از ترمینال `fg` را اجرا کنید.

## شروع Vim به روش هوشمند

فرمان `vim` می‌تواند گزینه‌های مختلفی را بپذیرد، درست مانند هر فرمان ترمینال دیگری. دو گزینه به شما اجازه می‌دهند که یک فرمان Vim را به عنوان پارامتر منتقل کنید: `+{cmd}` و `-c cmd`. همانطور که در طول این راهنما با دستورات بیشتری آشنا می‌شوید، ببینید آیا می‌توانید از آن هنگام شروع Vim استفاده کنید. همچنین به عنوان یک فرمان ترمینال، می‌توانید `vim` را با بسیاری از دیگر دستورات ترمینال ترکیب کنید. به عنوان مثال، می‌توانید خروجی فرمان `ls` را به ویرایش در Vim با `ls -l | vim -` هدایت کنید.

برای یادگیری بیشتر در مورد فرمان `vim` در ترمینال، به `man vim` مراجعه کنید. برای یادگیری بیشتر در مورد ویرایشگر Vim، به مطالعه این راهنما همراه با فرمان `:help` ادامه دهید.