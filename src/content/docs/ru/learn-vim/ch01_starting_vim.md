---
description: В этой главе вы узнаете, как запускать Vim из терминала и получите советы
  по установке и основам работы с редактором.
title: Ch01. Starting Vim
---

В этой главе вы узнаете различные способы запуска Vim из терминала. Я использовал Vim 8.2 при написании этого руководства. Если вы используете Neovim или более старую версию Vim, вам в основном должно быть нормально, но имейте в виду, что некоторые команды могут быть недоступны.

## Установка

Я не буду подробно объяснять, как установить Vim на конкретной машине. Хорошая новость заключается в том, что большинство компьютеров на базе Unix должны иметь установленный Vim. Если нет, большинство дистрибутивов должны иметь какие-то инструкции по установке Vim.

Чтобы загрузить больше информации о процессе установки Vim, посетите официальный сайт загрузки Vim или официальный репозиторий Vim на GitHub:
- [Веб-сайт Vim](https://www.vim.org/download.php)
- [Vim на GitHub](https://github.com/vim/vim)

## Команда Vim

Теперь, когда у вас установлен Vim, выполните это из терминала:

```bash
vim
```

Вы должны увидеть экран приветствия. Это то место, где вы будете работать над своим новым файлом. В отличие от большинства текстовых редакторов и IDE, Vim является модальным редактором. Если вы хотите напечатать "hello", вам нужно переключиться в режим вставки с помощью `i`. Нажмите `ihello<Esc>`, чтобы вставить текст "hello".

## Выход из Vim

Существует несколько способов выйти из Vim. Наиболее распространенный способ — ввести:

```shell
:quit
```

Вы можете ввести `:q` для краткости. Эта команда является командой режима командной строки (один из режимов Vim). Если вы введете `:` в нормальном режиме, курсор переместится в нижнюю часть экрана, где вы сможете ввести некоторые команды. Вы узнаете о режиме командной строки позже в главе 15. Если вы находитесь в режиме вставки, ввод `:` буквально выведет символ ":" на экран. В этом случае вам нужно вернуться в нормальный режим. Нажмите `<Esc>`, чтобы переключиться в нормальный режим. Кстати, вы также можете вернуться в нормальный режим из режима командной строки, нажав `<Esc>`. Вы заметите, что вы можете "выходить" из нескольких режимов Vim обратно в нормальный режим, нажав `<Esc>`.

## Сохранение файла

Чтобы сохранить ваши изменения, введите:

```shell
:write
```

Вы также можете ввести `:w` для краткости. Если это новый файл, вам нужно дать ему имя, прежде чем вы сможете его сохранить. Давайте назовем его `file.txt`. Выполните:

```shell
:w file.txt
```

Чтобы сохранить и выйти, вы можете объединить команды `:w` и `:q`:

```shell
:wq
```

Чтобы выйти без сохранения изменений, добавьте `!` после `:q`, чтобы принудительно выйти:

```shell
:q!
```

Существуют и другие способы выхода из Vim, но это те, которые вы будете использовать ежедневно.

## Помощь

На протяжении всего этого руководства я буду ссылаться на различные страницы помощи Vim. Вы можете перейти на страницу помощи, введя `:help {some-command}` (`:h` для краткости). Вы можете передать команде `:h` тему или имя команды в качестве аргумента. Например, чтобы узнать о различных способах выхода из Vim, введите:

```shell
:h write-quit
```

Как я узнал, что нужно искать "write-quit"? На самом деле, я не знал. Я просто ввел `:h`, затем "quit", затем `<Tab>`. Vim отобразил соответствующие ключевые слова для выбора. Если вам когда-либо нужно будет что-то найти ("Хотел бы я, чтобы Vim мог это сделать..."), просто введите `:h` и попробуйте несколько ключевых слов, затем `<Tab>`.

## Открытие файла

Чтобы открыть файл (`hello1.txt`) в Vim из терминала, выполните:

```bash
vim hello1.txt
```

Вы также можете открыть несколько файлов одновременно:

```bash
vim hello1.txt hello2.txt hello3.txt
```

Vim откроет `hello1.txt`, `hello2.txt` и `hello3.txt` в отдельных буферах. Вы узнаете о буферах в следующей главе.

## Аргументы

Вы можете передать команду терминала `vim` с различными флагами и опциями.

Чтобы проверить текущую версию Vim, выполните:

```bash
vim --version
```

Это сообщит вам текущую версию Vim и все доступные функции, отмеченные либо `+`, либо `-`. Некоторые из этих функций в этом руководстве требуют, чтобы определенные функции были доступны. Например, вы исследуете историю команд Vim в следующей главе с помощью команды `:history`. Ваш Vim должен иметь функцию `+cmdline_history`, чтобы команда работала. Есть большая вероятность, что установленный вами Vim имеет все необходимые функции, особенно если он из популярного источника загрузки.

Многие вещи, которые вы делаете из терминала, также можно сделать изнутри Vim. Чтобы увидеть версию из *внутри* Vim, вы можете выполнить это:

```shell
:version
```

Если вы хотите открыть файл `hello.txt` и немедленно выполнить команду Vim, вы можете передать команде `vim` опцию `+{cmd}`.

В Vim вы можете заменять строки с помощью команды `:s` (сокращение от `:substitute`). Если вы хотите открыть `hello.txt` и заменить все "pancake" на "bagel", выполните:

```bash
vim +%s/pancake/bagel/g hello.txt
```

Эти команды Vim могут быть объединены:

```bash
vim +%s/pancake/bagel/g +%s/bagel/egg/g +%s/egg/donut/g hello.txt
```

Vim заменит все вхождения "pancake" на "bagel", затем заменит "bagel" на "egg", затем заменит "egg" на "donut" (вы узнаете о замене в следующей главе).

Вы также можете передать опцию `-c`, за которой следует команда Vim, вместо синтаксиса `+`:

```bash
vim -c %s/pancake/bagel/g hello.txt
vim -c %s/pancake/bagel/g -c %s/bagel/egg/g -c %s/egg/donut/g hello.txt
```

## Открытие нескольких окон

Вы можете запустить Vim в разделенных горизонтальных и вертикальных окнах с помощью опций `-o` и `-O` соответственно.

Чтобы открыть Vim с двумя горизонтальными окнами, выполните:

```bash
vim -o2
```

Чтобы открыть Vim с 5 горизонтальными окнами, выполните:

```bash
vim -o5
```

Чтобы открыть Vim с 5 горизонтальными окнами и заполнить первые два файлами `hello1.txt` и `hello2.txt`, выполните:

```bash
vim -o5 hello1.txt hello2.txt
```

Чтобы открыть Vim с двумя вертикальными окнами, 5 вертикальными окнами и 5 вертикальными окнами с 2 файлами:

```bash
vim -O2
vim -O5
vim -O5 hello1.txt hello2.txt
```

## Приостановка

Если вам нужно приостановить Vim во время редактирования, вы можете нажать `Ctrl-z`. Вы также можете выполнить команду `:stop` или `:suspend`. Чтобы вернуться к приостановленному Vim, выполните `fg` из терминала.

## Запуск Vim умным способом

Команда `vim` может принимать множество различных опций, как и любая другая команда терминала. Две опции позволяют вам передавать команду Vim в качестве параметра: `+{cmd}` и `-c cmd`. По мере того как вы будете изучать больше команд в этом руководстве, посмотрите, сможете ли вы применить это при запуске Vim. Также, будучи командой терминала, вы можете комбинировать `vim` с многими другими командами терминала. Например, вы можете перенаправить вывод команды `ls` для редактирования в Vim с помощью `ls -l | vim -`.

Чтобы узнать больше о команде `vim` в терминале, посмотрите `man vim`. Чтобы узнать больше о редакторе Vim, продолжайте читать это руководство вместе с командой `:help`.