---
description: 이 문서는 Vim의 삽입 모드에서 텍스트 입력 효율성을 높이는 방법과 다양한 삽입 모드 진입 방법을 설명합니다.
title: Ch06. Insert Mode
---

삽입 모드는 많은 텍스트 편집기의 기본 모드입니다. 이 모드에서는 입력한 내용이 그대로 나타납니다.

하지만 그렇다고 배울 것이 없다는 의미는 아닙니다. Vim의 삽입 모드는 많은 유용한 기능을 포함하고 있습니다. 이 장에서는 Vim에서 이러한 삽입 모드 기능을 사용하여 타이핑 효율성을 향상시키는 방법을 배웁니다.

## 삽입 모드로 가는 방법

일반 모드에서 삽입 모드로 들어가는 방법은 여러 가지가 있습니다. 그 중 일부는 다음과 같습니다:

```shell
i    커서 앞에 텍스트 삽입
I    줄의 첫 번째 비어 있지 않은 문자 앞에 텍스트 삽입
a    커서 뒤에 텍스트 추가
A    줄 끝에 텍스트 추가
o    커서 아래에 새 줄을 시작하고 텍스트 삽입
O    커서 위에 새 줄을 시작하고 텍스트 삽입
s    커서 아래의 문자를 삭제하고 텍스트 삽입
S    현재 줄을 삭제하고 텍스트 삽입, "cc"의 동의어
gi   마지막 삽입 모드가 중단된 위치에 텍스트 삽입
gI   줄의 시작 부분에 텍스트 삽입 (열 1)
```

소문자 / 대문자 패턴에 주목하세요. 각 소문자 명령에는 대문자 대응이 있습니다. 처음이라면 위의 전체 목록을 기억하지 못해도 걱정하지 마세요. `i`와 `o`로 시작하세요. 이 두 가지면 충분히 시작할 수 있습니다. 점차적으로 더 많은 것을 배워나가세요.

## 삽입 모드에서 나가는 다양한 방법

삽입 모드에서 일반 모드로 돌아가는 방법은 몇 가지가 있습니다:

```shell
<Esc>     삽입 모드를 종료하고 일반 모드로 이동
Ctrl-[    삽입 모드를 종료하고 일반 모드로 이동
Ctrl-C    Ctrl-[ 및 <Esc>와 유사하지만 약어를 확인하지 않음
```

저는 `<Esc>` 키가 너무 멀어서 컴퓨터의 `<Caps-Lock>`을 `<Esc>`처럼 동작하도록 매핑합니다. Bill Joy의 ADM-3A 키보드를 검색해보면 `<Esc>` 키가 현대 키보드처럼 왼쪽 상단에 위치하지 않고 `q` 키 왼쪽에 있다는 것을 알 수 있습니다. 그래서 `<Caps lock>`을 `<Esc>`에 매핑하는 것이 합리적이라고 생각합니다.

제가 본 또 다른 일반적인 관습은 Vim 사용자가 삽입 모드에서 `<Esc>`를 `jj` 또는 `jk`로 매핑하는 것입니다. 이 옵션을 선호한다면 vimrc 파일에 다음 줄 중 하나(또는 둘 다)를 추가하세요.

```shell
inoremap jj <Esc>
inoremap jk <Esc>
```

## 삽입 모드 반복하기

삽입 모드에 들어가기 전에 카운트 매개변수를 전달할 수 있습니다. 예를 들어:

```shell
10i
```

"hello world!"를 입력하고 삽입 모드를 종료하면 Vim은 텍스트를 10번 반복합니다. 이는 모든 삽입 모드 방법(예: `10I`, `11a`, `12o`)에 적용됩니다.

## 삽입 모드에서 덩어리 삭제하기

타이핑 실수를 할 때 `<Backspace>`를 반복해서 누르는 것은 번거로울 수 있습니다. 일반 모드로 가서 실수를 삭제하는 것이 더 나을 수 있습니다. 삽입 모드에서도 여러 문자를 한 번에 삭제할 수 있습니다.

```shell
Ctrl-h    한 문자 삭제
Ctrl-w    한 단어 삭제
Ctrl-u    전체 줄 삭제
```

## 레지스터에서 삽입하기

Vim 레지스터는 미래에 사용할 텍스트를 저장할 수 있습니다. 삽입 모드에서 어떤 이름이 붙은 레지스터에서 텍스트를 삽입하려면 `Ctrl-R`과 레지스터 기호를 입력하세요. 사용할 수 있는 기호가 많지만, 이 섹션에서는 이름이 붙은 레지스터(a-z)만 다루겠습니다.

실행 예를 보려면 먼저 단어를 레지스터 a에 영구 저장해야 합니다. 커서를 어떤 단어 위로 이동한 후 다음을 입력하세요:

```shell
"ayiw
```

- `"a`는 Vim에 다음 작업의 대상이 레지스터 a가 될 것임을 알려줍니다.
- `yiw`는 내부 단어를 영구 저장합니다. 복습을 위해 Vim 문법 장을 참고하세요.

레지스터 a에는 방금 영구 저장한 단어가 포함되어 있습니다. 삽입 모드에서 레지스터 a에 저장된 텍스트를 붙여넣으려면:

```shell
Ctrl-R a
```

Vim에는 여러 종류의 레지스터가 있습니다. 이후 장에서 더 자세히 다룰 예정입니다.

## 스크롤링

삽입 모드에서도 스크롤할 수 있다는 것을 알고 계셨나요? 삽입 모드에서 `Ctrl-X` 하위 모드로 들어가면 추가 작업을 수행할 수 있습니다. 스크롤링도 그 중 하나입니다.

```shell
Ctrl-X Ctrl-Y    위로 스크롤
Ctrl-X Ctrl-E    아래로 스크롤
```

## 자동 완성

위에서 언급했듯이, 삽입 모드에서 `Ctrl-X`를 누르면 Vim은 하위 모드로 들어갑니다. 이 삽입 모드 하위 모드에서 텍스트 자동 완성을 수행할 수 있습니다. [인텔리센스](https://code.visualstudio.com/docs/editor/intellisense)나 다른 언어 서버 프로토콜(LSP)만큼 좋지는 않지만, 기본적으로 제공되는 기능으로는 매우 유용합니다.

시작하기 위한 몇 가지 유용한 자동 완성 명령은 다음과 같습니다:

```shell
Ctrl-X Ctrl-L	   전체 줄 삽입
Ctrl-X Ctrl-N	   현재 파일에서 텍스트 삽입
Ctrl-X Ctrl-I	   포함된 파일에서 텍스트 삽입
Ctrl-X Ctrl-F	   파일 이름 삽입
```

자동 완성을 트리거하면 Vim은 팝업 창을 표시합니다. 팝업 창에서 위아래로 탐색하려면 `Ctrl-N`과 `Ctrl-P`를 사용하세요.

Vim에는 `Ctrl-X` 하위 모드와 관련이 없는 두 개의 자동 완성 단축키도 있습니다:

```shell
Ctrl-N             다음 단어 일치 찾기
Ctrl-P             이전 단어 일치 찾기
```

일반적으로 Vim은 자동 완성 소스를 위해 모든 사용 가능한 버퍼의 텍스트를 살펴봅니다. "Chocolate donuts are the best"라는 줄이 있는 열린 버퍼가 있다면:
- "Choco"를 입력하고 `Ctrl-X Ctrl-L`을 하면 전체 줄이 일치하고 출력됩니다.
- "Choco"를 입력하고 `Ctrl-P`를 하면 "Chocolate"라는 단어가 일치하고 출력됩니다.

자동 완성은 Vim에서 방대한 주제입니다. 이는 빙산의 일각에 불과합니다. 더 배우고 싶다면 `:h ins-completion`을 확인하세요.

## 일반 모드 명령 실행하기

삽입 모드에서 일반 모드 명령을 실행할 수 있다는 것을 알고 계셨나요?

삽입 모드에서 `Ctrl-O`를 누르면 삽입-일반 하위 모드로 들어갑니다. 왼쪽 하단의 모드 표시기를 보면 일반적으로 `-- INSERT --`가 보이지만, `Ctrl-O`를 누르면 `-- (insert) --`로 변경됩니다. 이 모드에서는 *하나*의 일반 모드 명령을 수행할 수 있습니다. 할 수 있는 몇 가지 작업은 다음과 같습니다:

**중앙 정렬 및 점프**

```shell
Ctrl-O zz       창 중앙 정렬
Ctrl-O H/M/L    창의 위/중간/아래로 점프
Ctrl-O 'a       마크 a로 점프
```

**텍스트 반복하기**

```shell
Ctrl-O 100ihello    "hello"를 100번 삽입
```

**터미널 명령 실행하기**

```shell
Ctrl-O !! curl https://google.com    curl 실행
Ctrl-O !! pwd                        pwd 실행
```

**더 빠르게 삭제하기**

```shell
Ctrl-O dtz    현재 위치에서 "z" 문자까지 삭제
Ctrl-O D      현재 위치에서 줄 끝까지 삭제
```

## 스마트하게 삽입 모드 배우기

다른 텍스트 편집기에서 온 저와 같은 분이라면 삽입 모드에 머물고 싶을 수 있습니다. 하지만 텍스트를 입력하지 않을 때 삽입 모드에 머무는 것은 안티 패턴입니다. 손가락이 새로운 텍스트를 입력하지 않을 때는 일반 모드로 가는 습관을 기르세요.

텍스트를 삽입해야 할 때, 먼저 그 텍스트가 이미 존재하는지 스스로에게 물어보세요. 존재한다면 입력하는 대신 그 텍스트를 영구 저장하거나 이동해보세요. 삽입 모드를 사용해야 한다면 가능한 한 그 텍스트를 자동 완성해보세요. 가능하다면 같은 단어를 두 번 이상 입력하는 것을 피하세요.