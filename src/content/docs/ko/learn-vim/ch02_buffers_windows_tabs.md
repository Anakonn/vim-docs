---
description: 이 문서는 Vim의 버퍼, 창, 탭에 대한 설명과 사용 방법을 다루며, 효율적인 텍스트 편집을 위한 설정 방법을 안내합니다.
title: Ch02. Buffers, Windows, and Tabs
---

이전에 현대 텍스트 편집기를 사용한 적이 있다면, 아마도 버퍼와 탭에 익숙할 것입니다. Vim은 두 가지 대신 세 가지 표시 추상화인 버퍼, 창 및 탭을 사용합니다. 이 장에서는 버퍼, 창 및 탭이 무엇인지 그리고 Vim에서 어떻게 작동하는지 설명하겠습니다.

시작하기 전에 vimrc에 `set hidden` 옵션이 설정되어 있는지 확인하세요. 이 옵션이 없으면 버퍼를 전환할 때 현재 버퍼가 저장되지 않은 경우 Vim이 파일을 저장하라는 메시지를 표시합니다(빠르게 이동하고 싶다면 원하지 않는 기능입니다). 아직 vimrc에 대해 다루지 않았습니다. vimrc가 없다면 하나 생성하세요. 일반적으로 홈 디렉토리에 위치하며 이름은 `.vimrc`입니다. 저는 `~/.vimrc`에 있습니다. vimrc를 생성해야 할 위치를 보려면 `:h vimrc`를 확인하세요. 그 안에 다음을 추가하세요:

```shell
set hidden
```

저장한 후, 소스를 실행하세요( vimrc 안에서 `:source %`를 실행).

## 버퍼

*버퍼*란 무엇인가요?

버퍼는 메모리 내에서 텍스트를 작성하고 편집할 수 있는 공간입니다. Vim에서 파일을 열면 데이터가 버퍼에 바인딩됩니다. Vim에서 3개의 파일을 열면 3개의 버퍼가 생성됩니다.

빈 파일 두 개인 `file1.js`와 `file2.js`를 준비하세요(가능하다면 Vim으로 생성하세요). 터미널에서 다음을 실행하세요:

```bash
vim file1.js
```

당신이 보고 있는 것은 `file1.js` *버퍼*입니다. 새 파일을 열 때마다 Vim은 새 버퍼를 생성합니다.

Vim을 종료하세요. 이번에는 두 개의 새 파일을 여세요:

```bash
vim file1.js file2.js
```

현재 Vim은 `file1.js` 버퍼를 표시하고 있지만, 실제로는 두 개의 버퍼를 생성합니다: `file1.js` 버퍼와 `file2.js` 버퍼. `:buffers`를 실행하여 모든 버퍼를 확인하세요(대안으로 `:ls` 또는 `:files`를 사용할 수도 있습니다). *두 개*의 `file1.js`와 `file2.js`가 나열되어 있어야 합니다. `vim file1 file2 file3 ... filen`을 실행하면 n개의 버퍼가 생성됩니다. 새 파일을 열 때마다 Vim은 해당 파일에 대한 새 버퍼를 생성합니다.

버퍼를 탐색하는 방법은 여러 가지가 있습니다:
- `:bnext`로 다음 버퍼로 이동합니다(`:bprevious`로 이전 버퍼로 이동).
- `:buffer` + 파일 이름. Vim은 `<Tab>`으로 파일 이름을 자동 완성할 수 있습니다.
- `:buffer` + `n`, 여기서 `n`은 버퍼 번호입니다. 예를 들어, `:buffer 2`를 입력하면 버퍼 #2로 이동합니다.
- 점프 목록에서 이전 위치로 `Ctrl-O`로 이동하고, 최신 위치로 `Ctrl-I`로 이동합니다. 이는 버퍼 특정 방법은 아니지만, 서로 다른 버퍼 간에 점프하는 데 사용할 수 있습니다. 점프에 대해서는 5장에서 더 자세히 설명하겠습니다.
- 이전에 편집한 버퍼로 `Ctrl-^`로 이동합니다.

Vim이 버퍼를 생성하면, 그것은 버퍼 목록에 남아 있습니다. 이를 제거하려면 `:bdelete`를 입력하면 됩니다. 버퍼 번호를 매개변수로 받아들일 수도 있습니다(`:bdelete 3`으로 버퍼 #3을 삭제) 또는 파일 이름을 사용할 수 있습니다(`:bdelete` 후 `<Tab>`으로 자동 완성).

버퍼에 대해 배우면서 가장 어려웠던 것은 그들이 어떻게 작동하는지를 시각화하는 것이었습니다. 왜냐하면 제 머리는 주류 텍스트 편집기를 사용할 때의 창에 익숙해져 있었기 때문입니다. 좋은 비유는 카드 덱입니다. 제가 2개의 버퍼를 가지고 있다면, 2장의 카드가 쌓여 있는 것입니다. 맨 위의 카드는 제가 보는 유일한 카드이지만, 그 아래에 카드가 있다는 것을 알고 있습니다. `file1.js` 버퍼가 표시되면 `file1.js` 카드가 덱의 맨 위에 있는 것입니다. 여기서 다른 카드인 `file2.js`는 보이지 않지만, 존재합니다. `file2.js`로 버퍼를 전환하면, 이제 `file2.js` 카드가 덱의 맨 위에 있고 `file1.js` 카드는 그 아래에 있습니다.

Vim을 사용해 본 적이 없다면, 이것은 새로운 개념입니다. 이해하는 데 시간을 가지세요.

## Vim 종료하기

그런데, 여러 개의 버퍼가 열려 있다면, 모든 버퍼를 종료할 수 있습니다:

```shell
:qall
```

변경 사항을 저장하지 않고 종료하려면, 끝에 `!`를 추가하세요:

```shell
:qall!
```

모든 것을 저장하고 종료하려면 다음을 실행하세요:

```shell
:wqall
```

## 창

창은 버퍼에 대한 뷰포트입니다. 주류 편집기에서 왔다면, 이 개념이 익숙할 수 있습니다. 대부분의 텍스트 편집기는 여러 개의 창을 표시할 수 있는 기능을 가지고 있습니다. Vim에서도 여러 개의 창을 가질 수 있습니다.

터미널에서 다시 `file1.js`를 열어보겠습니다:

```bash
vim file1.js
```

앞서 `file1.js` 버퍼를 보고 있다고 썼습니다. 그것은 맞지만, 그 진술은 불완전했습니다. 당신은 **하나의 창**을 통해 `file1.js` 버퍼를 보고 있습니다. 창은 버퍼를 보는 방법입니다.

아직 Vim을 종료하지 마세요. 다음을 실행하세요:

```shell
:split file2.js
```

이제 **두 개의 창**을 통해 두 개의 버퍼를 보고 있습니다. 상단 창은 `file2.js` 버퍼를 표시하고, 하단 창은 `file1.js` 버퍼를 표시합니다.

창 간에 탐색하려면 다음 단축키를 사용하세요:

```shell
Ctrl-W H    왼쪽 창으로 커서를 이동
Ctrl-W J    아래 창으로 커서를 이동
Ctrl-W K    위 창으로 커서를 이동
Ctrl-W L    오른쪽 창으로 커서를 이동
```

이제 다음을 실행하세요:

```shell
:vsplit file3.js
```

이제 세 개의 창이 세 개의 버퍼를 표시하고 있습니다. 하나의 창은 `file3.js` 버퍼를 표시하고, 다른 창은 `file2.js` 버퍼를 표시하며, 또 다른 창은 `file1.js` 버퍼를 표시합니다.

여러 개의 창이 동일한 버퍼를 표시할 수 있습니다. 왼쪽 상단 창에 있을 때, 다음을 입력하세요:

```shell
:buffer file2.js
```

이제 두 개의 창이 모두 `file2.js` 버퍼를 표시하고 있습니다. `file2.js` 창에서 입력을 시작하면, `file2.js` 버퍼를 표시하는 두 개의 창이 실시간으로 업데이트되는 것을 볼 수 있습니다.

현재 창을 닫으려면 `Ctrl-W C`를 실행하거나 `:quit`를 입력하세요. 창을 닫으면 버퍼는 여전히 존재합니다(이를 확인하려면 `:buffers`를 실행하세요).

다음은 유용한 일반 모드 창 명령입니다:

```shell
Ctrl-W V    새 수직 분할 창 열기
Ctrl-W S    새 수평 분할 창 열기
Ctrl-W C    창 닫기
Ctrl-W O    현재 창을 화면의 유일한 창으로 만들고 다른 창 닫기
```

그리고 유용한 창 명령줄 명령 목록은 다음과 같습니다:

```shell
:vsplit filename    창을 수직으로 분할
:split filename     창을 수평으로 분할
:new filename       새 창 만들기
```

이해하는 데 시간을 가지세요. 더 많은 정보는 `:h window`를 확인하세요.

## 탭

탭은 창의 모음입니다. 창의 레이아웃처럼 생각하세요. 대부분의 현대 텍스트 편집기(및 현대 인터넷 브라우저)에서 탭은 열린 파일/페이지를 의미하며, 이를 닫으면 해당 파일/페이지가 사라집니다. Vim에서 탭은 열린 파일을 나타내지 않습니다. Vim에서 탭을 닫으면 파일을 닫는 것이 아닙니다. 레이아웃만 닫는 것입니다. 해당 레이아웃에서 열린 파일은 여전히 닫히지 않고, 여전히 버퍼에서 열려 있습니다.

Vim 탭을 실제로 사용해 보겠습니다. `file1.js`를 여세요:

```bash
vim file1.js
```

새 탭에서 `file2.js`를 열려면:

```shell
:tabnew file2.js
```

또한 `<Tab>`을 눌러 *새 탭*에서 열고자 하는 파일을 자동 완성할 수 있습니다(농담이 아닙니다).

다음은 유용한 탭 탐색 목록입니다:

```shell
:tabnew file.txt    새 탭에서 file.txt 열기
:tabclose           현재 탭 닫기
:tabnext            다음 탭으로 이동
:tabprevious        이전 탭으로 이동
:tablast            마지막 탭으로 이동
:tabfirst           첫 번째 탭으로 이동
```

`gt`를 실행하여 다음 탭 페이지로 이동할 수도 있습니다(이전 탭으로는 `gT`로 이동할 수 있습니다). `gt`에 숫자를 인수로 전달할 수 있으며, 여기서 숫자는 탭 번호입니다. 세 번째 탭으로 가려면 `3gt`를 입력하세요.

여러 개의 탭을 가지는 장점은 각 탭에서 다른 창 배열을 가질 수 있다는 것입니다. 예를 들어, 첫 번째 탭은 3개의 수직 창을 가지고, 두 번째 탭은 혼합된 수평 및 수직 창 레이아웃을 가질 수 있습니다. 탭은 이 작업에 완벽한 도구입니다!

여러 개의 탭으로 Vim을 시작하려면 터미널에서 다음과 같이 할 수 있습니다:

```bash
vim -p file1.js file2.js file3.js
```

## 3D 이동

창 간 이동은 카르테시안 좌표계의 X-Y 축을 따라 2차원적으로 이동하는 것과 같습니다. `Ctrl-W H/J/K/L`로 위, 오른쪽, 아래 및 왼쪽 창으로 이동할 수 있습니다.

버퍼 간 이동은 카르테시안 좌표계의 Z 축을 따라 이동하는 것과 같습니다. 버퍼 파일이 Z 축을 따라 정렬되어 있다고 상상해 보세요. `:bnext` 및 `:bprevious`로 Z 축을 따라 한 번에 하나의 버퍼씩 이동할 수 있습니다. `:buffer filename/buffernumber`로 Z 축의 임의의 좌표로 점프할 수 있습니다.

창 및 버퍼 이동을 결합하여 *3차원 공간*에서 이동할 수 있습니다. 창 이동으로 위, 오른쪽, 아래 또는 왼쪽 창(X-Y 탐색)으로 이동할 수 있습니다. 각 창에는 버퍼가 포함되어 있으므로, 버퍼 이동으로 앞뒤(Z 탐색)로 이동할 수 있습니다.

## 버퍼, 창 및 탭을 스마트하게 사용하기

버퍼, 창 및 탭이 무엇인지 그리고 Vim에서 어떻게 작동하는지를 배웠습니다. 이제 이들을 더 잘 이해했으니, 자신의 작업 흐름에서 사용할 수 있습니다.

모든 사람의 작업 흐름은 다릅니다. 예를 들어, 제 작업 흐름은 다음과 같습니다:
- 먼저, 현재 작업에 필요한 모든 파일을 저장하기 위해 버퍼를 사용합니다. Vim은 느려지기 시작하기 전에 많은 열린 버퍼를 처리할 수 있습니다. 또한 많은 버퍼가 열려 있어도 화면이 혼잡해지지 않습니다. 저는 항상 하나의 버퍼만 보고 있으므로(하나의 창만 있다고 가정), 한 화면에 집중할 수 있습니다. 어딘가로 가야 할 때, 언제든지 열린 버퍼로 빠르게 이동할 수 있습니다.
- 여러 개의 창을 사용하여 여러 개의 버퍼를 동시에 보기 위해, 보통 파일을 비교하거나 문서를 읽거나 코드 흐름을 따를 때 사용합니다. 화면이 혼잡해지지 않도록 열린 창의 수를 세 개 이하로 유지하려고 합니다(작은 노트북을 사용합니다). 작업이 끝나면 여분의 창을 닫습니다. 창이 적으면 방해 요소가 줄어듭니다.
- 탭 대신에 [tmux](https://github.com/tmux/tmux/wiki) 창을 사용합니다. 보통 여러 개의 tmux 창을 동시에 사용합니다. 예를 들어, 클라이언트 측 코드용 tmux 창 하나와 백엔드 코드용 tmux 창 하나를 사용합니다.

제 작업 흐름은 편집 스타일에 따라 여러분과 다를 수 있으며, 그건 괜찮습니다. 여러분의 코딩 스타일에 맞는 자신의 흐름을 발견하기 위해 실험해 보세요.