---
description: यह दस्तावेज़ Vim कमांड की संरचना को सरल व्याकरण नियमों में समझाता है,
  जिससे आप Vim भाषा को आसानी से सीख सकें।
title: Ch04. Vim Grammar
---

Vim कमांड की जटिलता से डरना आसान है। यदि आप एक Vim उपयोगकर्ता को `gUfV` या `1GdG` करते हुए देखते हैं, तो आप तुरंत नहीं जान पाएंगे कि ये कमांड क्या करते हैं। इस अध्याय में, मैं Vim कमांड की सामान्य संरचना को एक सरल व्याकरण नियम में तोड़ दूंगा।

यह पूरे गाइड का सबसे महत्वपूर्ण अध्याय है। एक बार जब आप अंतर्निहित व्याकरणिक संरचना को समझ लेते हैं, तो आप Vim से "बात" कर सकेंगे। वैसे, जब मैं इस अध्याय में *Vim भाषा* कहता हूं, तो मैं Vimscript भाषा (Vim की अंतर्निहित प्रोग्रामिंग भाषा, जिसे आप बाद के अध्यायों में सीखेंगे) के बारे में बात नहीं कर रहा हूं।

## एक भाषा कैसे सीखें

मैं एक मूल अंग्रेजी बोलने वाला नहीं हूं। मैंने 13 साल की उम्र में अंग्रेजी सीखी जब मैं अमेरिका में आया। एक नई भाषा बोलने के लिए आपको तीन चीजें करनी होती हैं:

1. व्याकरण नियम सीखें।
2. शब्दावली बढ़ाएं।
3. अभ्यास, अभ्यास, अभ्यास।

इसी तरह, Vim भाषा बोलने के लिए, आपको व्याकरण नियम सीखने होंगे, शब्दावली बढ़ानी होगी, और अभ्यास करना होगा जब तक आप बिना सोचे-समझे कमांड चला न सकें।

## व्याकरण नियम

Vim भाषा में केवल एक व्याकरण नियम है:

```shell
क्रिया + संज्ञा
```

बस इतना ही!

यह इन अंग्रेजी वाक्यांशों की तरह है:

- *"Eat (क्रिया) a donut (संज्ञा)"*
- *"Kick (क्रिया) a ball (संज्ञा)"*
- *"Learn (क्रिया) the Vim editor (संज्ञा)"*

अब आपको बुनियादी Vim क्रियाओं और संज्ञाओं के साथ अपनी शब्दावली बनानी होगी।

## संज्ञाएँ (गतियाँ)

संज्ञाएँ Vim गतियाँ हैं। गतियों का उपयोग Vim में चारों ओर जाने के लिए किया जाता है। नीचे कुछ Vim गतियों की सूची है:

```shell
h    बाएँ
j    नीचे
k    ऊपर
l    दाएँ
w    अगले शब्द की शुरुआत की ओर आगे बढ़ें
}    अगले पैराग्राफ पर कूदें
$    पंक्ति के अंत पर जाएँ
```

आप अगले अध्याय में गतियों के बारे में अधिक जानेंगे, इसलिए यदि आप उनमें से कुछ को नहीं समझते हैं तो चिंता न करें।

## क्रियाएँ (ऑपरेटर)

`:h operator` के अनुसार, Vim में 16 ऑपरेटर हैं। हालाँकि, मेरे अनुभव के अनुसार, इन 3 ऑपरेटरों को सीखना मेरे 80% संपादन आवश्यकताओं के लिए पर्याप्त है:

```shell
y    टेक्स्ट को यांक करें (कॉपी)
d    टेक्स्ट को हटाएँ और पंजीकरण में सहेजें
c    टेक्स्ट को हटाएँ, पंजीकरण में सहेजें, और इनसर्ट मोड शुरू करें
```

वैसे, एक बार जब आप टेक्स्ट को यांक कर लेते हैं, तो आप इसे `p` (कर्सर के बाद) या `P` (कर्सर के पहले) के साथ पेस्ट कर सकते हैं।

## क्रिया और संज्ञा

अब जब आप बुनियादी संज्ञाएँ और क्रियाएँ जानते हैं, तो चलिए व्याकरण नियम, क्रिया + संज्ञा लागू करते हैं! मान लीजिए आपके पास यह अभिव्यक्ति है:

```javascript
const learn = "vim";
```

- अपनी वर्तमान स्थिति से पंक्ति के अंत तक सब कुछ यांक करने के लिए: `y$`.
- अपनी वर्तमान स्थिति से अगले शब्द की शुरुआत तक हटाने के लिए: `dw`.
- अपनी वर्तमान स्थिति से वर्तमान पैराग्राफ के अंत तक बदलने के लिए, कहें `c}`।

गतियाँ भी संख्या को तर्क के रूप में स्वीकार करती हैं (मैं इस पर अगले अध्याय में चर्चा करूंगा)। यदि आपको 3 पंक्तियों में ऊपर जाना है, तो `k` को 3 बार दबाने के बजाय, आप `3k` कर सकते हैं। संख्या Vim व्याकरण के साथ काम करती है।
- बाईं ओर दो अक्षरों को यांक करने के लिए: `y2h`.
- अगले दो शब्दों को हटाने के लिए: `d2w`.
- अगले दो पंक्तियों को बदलने के लिए: `c2j`.

अभी, आपको एक साधारण कमांड को निष्पादित करने के लिए लंबे और कठिन विचार करना पड़ सकता है। आप अकेले नहीं हैं। जब मैंने पहली बार शुरुआत की थी, तो मुझे भी इसी तरह की समस्याएँ थीं लेकिन समय के साथ मैं तेज़ हो गया। आप भी ऐसा करेंगे। पुनरावृत्ति, पुनरावृत्ति, पुनरावृत्ति।

एक साइड नोट के रूप में, पंक्ति-वार संचालन (संपूर्ण पंक्ति को प्रभावित करने वाले संचालन) टेक्स्ट संपादन में सामान्य संचालन हैं। सामान्यतः, एक ऑपरेटर कमांड को दो बार टाइप करके, Vim उस क्रिया के लिए एक पंक्ति-वार संचालन करता है। उदाहरण के लिए, `dd`, `yy`, और `cc` पूरे पंक्ति पर **हटाना**, **यांक**, और **बदलना** करते हैं। इसे अन्य ऑपरेटरों के साथ आजमाएँ!

यह वास्तव में शानदार है। मैं यहाँ एक पैटर्न देख रहा हूँ। लेकिन मैं अभी तक पूरा नहीं हुआ हूँ। Vim में एक और प्रकार की संज्ञा है: टेक्स्ट ऑब्जेक्ट्स।

## अधिक संज्ञाएँ (टेक्स्ट ऑब्जेक्ट्स)

कल्पना करें कि आप किसी जोड़ी के भीतर हैं जैसे `(hello Vim)` और आपको कोष्ठक के भीतर पूरी वाक्यांश को हटाना है। आप इसे जल्दी से कैसे कर सकते हैं? क्या उस "समूह" को हटाने का कोई तरीका है जिसमें आप हैं?

उत्तर हाँ है। टेक्स्ट अक्सर संरचित होते हैं। इनमें अक्सर कोष्ठक, उद्धरण, ब्रैकेट, ब्रेसेस, और अधिक होते हैं। Vim के पास टेक्स्ट ऑब्जेक्ट्स के साथ इस संरचना को कैप्चर करने का एक तरीका है।

टेक्स्ट ऑब्जेक्ट्स का उपयोग ऑपरेटरों के साथ किया जाता है। टेक्स्ट ऑब्जेक्ट्स के दो प्रकार होते हैं: आंतरिक और बाहरी टेक्स्ट ऑब्जेक्ट्स।

```shell
i + ऑब्जेक्ट    आंतरिक टेक्स्ट ऑब्जेक्ट
a + ऑब्जेक्ट    बाहरी टेक्स्ट ऑब्जेक्ट
```

आंतरिक टेक्स्ट ऑब्जेक्ट सफेद स्थान या चारों ओर के ऑब्जेक्ट्स के बिना ऑब्जेक्ट का चयन करता है। बाहरी टेक्स्ट ऑब्जेक्ट सफेद स्थान या चारों ओर के ऑब्जेक्ट्स को शामिल करते हुए ऑब्जेक्ट का चयन करता है। सामान्यतः, एक बाहरी टेक्स्ट ऑब्जेक्ट हमेशा एक आंतरिक टेक्स्ट ऑब्जेक्ट से अधिक टेक्स्ट का चयन करता है। यदि आपका कर्सर `(hello Vim)` अभिव्यक्ति में कोष्ठक के भीतर कहीं है:
- कोष्ठक के भीतर टेक्स्ट को हटाने के लिए बिना कोष्ठक को हटाए: `di(`.
- कोष्ठक और भीतर के टेक्स्ट को हटाने के लिए: `da(`.

आइए एक अलग उदाहरण पर नज़र डालें। मान लीजिए आपके पास यह Javascript फ़ंक्शन है और आपका कर्सर "H" पर है "Hello":

```javascript
const hello = function() {
  console.log("Hello Vim");
  return true;
}
```

- पूरे "Hello Vim" को हटाने के लिए: `di(`.
- फ़ंक्शन की सामग्री को हटाने के लिए (जिसे `{}` द्वारा घेर रखा गया है): `di{`.
- "Hello" स्ट्रिंग को हटाने के लिए: `diw`.

टेक्स्ट ऑब्जेक्ट्स शक्तिशाली होते हैं क्योंकि आप एक स्थान से विभिन्न ऑब्जेक्ट्स को लक्षित कर सकते हैं। आप कोष्ठक के भीतर, फ़ंक्शन ब्लॉक, या वर्तमान शब्द के भीतर ऑब्जेक्ट्स को हटा सकते हैं। स्मृति में, जब आप `di(`, `di{`, और `diw` देखते हैं, तो आपको यह समझ में आता है कि वे किस टेक्स्ट ऑब्जेक्ट्स का प्रतिनिधित्व करते हैं: एक जोड़ी कोष्ठक, एक जोड़ी ब्रेसेस, और एक शब्द।

आइए एक अंतिम उदाहरण पर नज़र डालें। मान लीजिए आपके पास ये HTML टैग हैं:

```html
<div>
  <h1>Header1</h1>
  <p>Paragraph1</p>
  <p>Paragraph2</p>
</div>
```

यदि आपका कर्सर "Header1" टेक्स्ट पर है:
- "Header1" को हटाने के लिए: `dit`.
- `<h1>Header1</h1>` को हटाने के लिए: `dat`.

यदि आपका कर्सर "div" पर है:
- `h1` और दोनों `p` पंक्तियों को हटाने के लिए: `dit`.
- सब कुछ हटाने के लिए: `dat`.
- "div" को हटाने के लिए: `di<`.

नीचे सामान्य टेक्स्ट ऑब्जेक्ट्स की सूची है:

```shell
w         एक शब्द
p         एक पैराग्राफ
s         एक वाक्य
( या )    एक जोड़ी ( )
{ या }    एक जोड़ी { }
[ या ]    एक जोड़ी [ ]
< या >    एक जोड़ी < >
t         XML टैग
"         एक जोड़ी " "
'         एक जोड़ी ' '
`         एक जोड़ी ` `
```

अधिक जानने के लिए, `:h text-objects` देखें।

## संयोज्यता और व्याकरण

Vim व्याकरण Vim की संयोज्यता विशेषता का उपसमुच्चय है। आइए Vim में संयोज्यता पर चर्चा करें और यह क्यों एक टेक्स्ट संपादक में एक महान विशेषता है।

संयोज्यता का मतलब है सामान्य कमांड का एक सेट होना जिसे संयोजित (संरचित) किया जा सकता है ताकि अधिक जटिल कमांड किए जा सकें। ठीक उसी तरह जैसे प्रोग्रामिंग में आप सरल अमूर्तताओं से अधिक जटिल अमूर्तताएँ बना सकते हैं, Vim में आप सरल कमांड से जटिल कमांड निष्पादित कर सकते हैं। Vim व्याकरण Vim की संयोज्य प्रकृति का प्रदर्शन है।

Vim की संयोज्यता की असली शक्ति तब चमकती है जब यह बाहरी कार्यक्रमों के साथ एकीकृत होती है। Vim के पास एक फ़िल्टर ऑपरेटर (`!`) है जिसका उपयोग बाहरी कार्यक्रमों को हमारे टेक्स्ट के लिए फ़िल्टर के रूप में करने के लिए किया जाता है। मान लीजिए आपके पास नीचे यह गंदा टेक्स्ट है और आप इसे तालिका में बदलना चाहते हैं:

```shell
Id|Name|Cuteness
01|Puppy|Very
02|Kitten|Ok
03|Bunny|Ok
```

यह Vim कमांड के साथ आसानी से नहीं किया जा सकता, लेकिन आप इसे `column` टर्मिनल कमांड के साथ जल्दी से कर सकते हैं (मान लेते हैं कि आपके टर्मिनल में `column` कमांड है)। जब आपका कर्सर "Id" पर हो, तो `!}column -t -s "|"` चलाएँ। वाह! अब आपके पास केवल एक त्वरित कमांड के साथ यह सुंदर तालिका डेटा है।

```shell
Id  Name    Cuteness
01  Puppy   Very
02  Kitten  Ok
03  Bunny   Ok
```

आइए कमांड को तोड़ते हैं। क्रिया `!` (फ़िल्टर ऑपरेटर) थी और संज्ञा `}` (अगले पैराग्राफ पर जाना) थी। फ़िल्टर ऑपरेटर `!` ने एक अन्य तर्क, एक टर्मिनल कमांड को स्वीकार किया, इसलिए मैंने इसे `column -t -s "|"` दिया। मैं यह नहीं बताऊंगा कि `column` कैसे काम करता है, लेकिन प्रभाव में, इसने टेक्स्ट को तालिका में बदल दिया।

मान लीजिए आप केवल अपने टेक्स्ट को तालिका में नहीं बदलना चाहते, बल्कि केवल "Ok" वाले पंक्तियों को प्रदर्शित करना चाहते हैं। आप जानते हैं कि `awk` इसे आसानी से कर सकता है। आप इसके बजाय यह कर सकते हैं:

```shell
!}column -t -s "|" | awk 'NR > 1 && /Ok/ {print $0}'
```

परिणाम:

```shell
02  Kitten  Ok
03  Bunny   Ok
```

शानदार! बाहरी कमांड ऑपरेटर पाइप (`|`) का भी उपयोग कर सकता है।

यह Vim की संयोज्यता की शक्ति है। जितना अधिक आप अपने ऑपरेटरों, गतियों, और टर्मिनल कमांड को जानते हैं, आपकी जटिल क्रियाओं को संयोजित करने की क्षमता *गुणित* होती है।

मान लीजिए आप केवल चार गतियों, `w, $, }, G` और केवल एक ऑपरेटर, `d` को जानते हैं। आप 8 क्रियाएँ कर सकते हैं: *मूव* 4 विभिन्न तरीकों से (`w, $, }, G`) और *हटाएँ* 4 विभिन्न लक्ष्यों को (`dw, d$, d}, dG`)। फिर एक दिन आप बड़े अक्षर (`gU`) ऑपरेटर के बारे में सीखते हैं। आपने अपने Vim टूल बेल्ट में केवल एक नई क्षमता नहीं जोड़ी, बल्कि *चार*: `gUw, gU$, gU}, gUG`। इससे आपके Vim टूल बेल्ट में 12 टूल्स बन जाते हैं। प्रत्येक नई जानकारी आपके वर्तमान क्षमताओं के लिए एक गुणक होती है। यदि आप 10 गतियों और 5 ऑपरेटरों को जानते हैं, तो आपके पास 60 मूव्स (50 ऑपरेशन्स + 10 गतियाँ) हैं। Vim में एक लाइन-नंबर गति (`nG`) है जो आपको `n` गतियाँ देती है, जहाँ `n` आपके फ़ाइल में कितनी पंक्तियाँ हैं (लाइन 5 पर जाने के लिए, `5G` चलाएँ)। खोज गति (`/`) व्यावहारिक रूप से आपको असीमित संख्या में गतियाँ देती है क्योंकि आप किसी भी चीज़ के लिए खोज सकते हैं। बाहरी कमांड ऑपरेटर (`!`) आपको उतने ही फ़िल्टरिंग टूल्स देता है जितने टर्मिनल कमांड आप जानते हैं। एक संयोज्य टूल के रूप में Vim का उपयोग करते हुए, जो कुछ भी आप जानते हैं उसे एक साथ जोड़ा जा सकता है ताकि बढ़ती जटिलता के साथ संचालन किए जा सकें। जितना अधिक आप जानते हैं, उतना ही शक्तिशाली आप बनते हैं।

यह संयोज्य व्यवहार यूनिक्स दर्शन को प्रतिध्वनित करता है: *एक चीज़ को अच्छे से करें*। एक ऑपरेटर का एक काम होता है: Y करें। एक गति का एक काम होता है: X पर जाएँ। एक ऑपरेटर को गति के साथ मिलाकर, आप पूर्वानुमानित रूप से YX प्राप्त करते हैं: X पर Y करें।

गतियाँ और ऑपरेटर विस्तारित होते हैं। आप अपने Vim टूल बेल्ट में जोड़ने के लिए कस्टम गतियाँ और ऑपरेटर बना सकते हैं। [`vim-textobj-user`](https://github.com/kana/vim-textobj-user) प्लगइन आपको अपने टेक्स्ट ऑब्जेक्ट्स बनाने की अनुमति देता है। इसमें उपयोगकर्ता द्वारा बनाए गए कस्टम टेक्स्ट ऑब्जेक्ट्स की [सूची](https://github.com/kana/vim-textobj-user/wiki) भी है।

## स्मार्ट तरीके से Vim व्याकरण सीखें

आपने अभी Vim व्याकरण के नियम के बारे में सीखा: `क्रिया + संज्ञा`। मेरा सबसे बड़ा Vim "AHA!" पल तब था जब मैंने बड़े अक्षर (`gU`) ऑपरेटर के बारे में सीखा और वर्तमान शब्द को बड़े अक्षर में बदलना चाहता था, मैंने *स्वाभाविक रूप से* `gUiw` चलाया और यह काम कर गया! शब्द बड़े अक्षर में बदल गया। उस क्षण में, मैंने अंततः Vim को समझना शुरू किया। मेरी आशा है कि आपका अपना "AHA!" पल जल्द ही आएगा, यदि पहले से नहीं आया है।

इस अध्याय का लक्ष्य आपको Vim में `क्रिया + संज्ञा` पैटर्न दिखाना है ताकि आप Vim सीखने के लिए एक नई भाषा सीखने की तरह संपर्क करें बजाय हर कमांड संयोजन को याद करने के।

पैटर्न सीखें और इसके निहितार्थ को समझें। यही सीखने का स्मार्ट तरीका है।