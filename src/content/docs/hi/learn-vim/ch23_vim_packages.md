---
description: इस दस्तावेज़ में, आप Vim के अंतर्निहित पैकेज प्रबंधन प्रणाली का उपयोग
  करके प्लगइन्स स्थापित करने की प्रक्रिया सीखेंगे।
title: Ch23. Vim Packages
---

पिछले अध्याय में, मैंने प्लगइन्स स्थापित करने के लिए एक बाहरी प्लगइन प्रबंधक का उपयोग करने का उल्लेख किया था। संस्करण 8 से, Vim में एक अंतर्निहित प्लगइन प्रबंधक है जिसे *packages* कहा जाता है। इस अध्याय में, आप सीखेंगे कि Vim पैकेज का उपयोग करके प्लगइन्स को कैसे स्थापित किया जाए।

यह देखने के लिए कि आपकी Vim बिल्ड में पैकेज का उपयोग करने की क्षमता है या नहीं, `:version` चलाएँ और `+packages` विशेषता की तलाश करें। वैकल्पिक रूप से, आप `:echo has('packages')` भी चला सकते हैं (यदि यह 1 लौटाता है, तो इसका मतलब है कि इसमें पैकेज की क्षमता है)।

## पैक निर्देशिका

जांचें कि क्या आपके पास रूट पथ में `~/.vim/` निर्देशिका है। यदि नहीं है, तो एक बनाएं। इसके अंदर, `pack` नामक एक निर्देशिका बनाएं (`~/.vim/pack/`)। Vim स्वचालित रूप से जानता है कि पैकेज के लिए इस निर्देशिका के अंदर खोज करनी है।

## लोडिंग के दो प्रकार

Vim पैकेज में दो लोडिंग तंत्र होते हैं: स्वचालित और मैनुअल लोडिंग।

### स्वचालित लोडिंग

जब Vim शुरू होता है, तो प्लगइन्स को स्वचालित रूप से लोड करने के लिए, आपको उन्हें `start/` निर्देशिका में रखना होगा। पथ इस तरह दिखता है:

```shell
~/.vim/pack/*/start/
```

अब आप पूछ सकते हैं, "पैक/ और स्टार्ट/ के बीच `*` क्या है?" `*` एक मनमाना नाम है और यह कुछ भी हो सकता है जो आप चाहते हैं। इसे `packdemo/` नाम दें:

```shell
~/.vim/pack/packdemo/start/
```

ध्यान रखें कि यदि आप इसे छोड़ देते हैं और इसके बजाय ऐसा कुछ करते हैं:

```shell
~/.vim/pack/start/
```

तो पैकेज सिस्टम काम नहीं करेगा। `pack/` और `start/` के बीच एक नाम रखना अनिवार्य है।

इस डेमो के लिए, चलिए [NERDTree](https://github.com/preservim/nerdtree) प्लगइन स्थापित करने की कोशिश करते हैं। `start/` निर्देशिका में जाएँ (`cd ~/.vim/pack/packdemo/start/`) और NERDTree रिपॉजिटरी को क्लोन करें:

```shell
git clone https://github.com/preservim/nerdtree.git
```

बस इतना ही! आप तैयार हैं। अगली बार जब आप Vim शुरू करेंगे, तो आप तुरंत NERDTree कमांड जैसे `:NERDTreeToggle` चला सकते हैं।

आप `~/.vim/pack/*/start/` पथ के अंदर जितनी चाहें प्लगइन रिपॉजिटरी क्लोन कर सकते हैं। Vim स्वचालित रूप से प्रत्येक को लोड करेगा। यदि आप क्लोन की गई रिपॉजिटरी को हटा देते हैं (`rm -rf nerdtree/`), तो वह प्लगइन अब उपलब्ध नहीं होगा।

### मैनुअल लोडिंग

जब Vim शुरू होता है, तो प्लगइन्स को मैनुअल रूप से लोड करने के लिए, आपको उन्हें `opt/` निर्देशिका में रखना होगा। स्वचालित लोडिंग के समान, पथ इस तरह दिखता है:

```shell
~/.vim/pack/*/opt/
```

चलो पहले से ही `packdemo/` निर्देशिका का उपयोग करें:

```shell
~/.vim/pack/packdemo/opt/
```

इस बार, चलिए [killersheep](https://github.com/vim/killersheep) गेम स्थापित करते हैं (इसके लिए Vim 8.2 की आवश्यकता है)। `opt/` निर्देशिका में जाएँ (`cd ~/.vim/pack/packdemo/opt/`) और रिपॉजिटरी को क्लोन करें:

```shell
git clone https://github.com/vim/killersheep.git
```

Vim शुरू करें। गेम को चलाने के लिए कमांड है `:KillKillKill`। इसे चलाने की कोशिश करें। Vim शिकायत करेगा कि यह एक मान्य संपादक कमांड नहीं है। आपको पहले *मैनुअल* रूप से प्लगइन लोड करना होगा। चलिए ऐसा करते हैं:

```shell
:packadd killersheep
```

अब फिर से कमांड चलाने की कोशिश करें `:KillKillKill`। अब कमांड काम करना चाहिए।

आप सोच सकते हैं, "मैं कभी पैकेज को मैनुअल रूप से लोड क्यों करना चाहूँगा? क्या यह बेहतर नहीं है कि सब कुछ स्वचालित रूप से शुरू में लोड हो जाए?"

अच्छा सवाल। कभी-कभी ऐसे प्लगइन्स होते हैं जिन्हें आप हमेशा उपयोग नहीं करेंगे, जैसे कि वह KillerSheep गेम। शायद आपको 10 विभिन्न गेम लोड करने की आवश्यकता नहीं है और Vim के शुरू होने के समय को धीमा करना नहीं चाहिए। हालाँकि, कभी-कभी, जब आप बोर हो जाते हैं, तो आप कुछ गेम खेलना चाह सकते हैं। अनावश्यक प्लगइन्स के लिए मैनुअल लोडिंग का उपयोग करें।

आप इसे शर्तों के अनुसार प्लगइन्स जोड़ने के लिए भी उपयोग कर सकते हैं। शायद आप Neovim और Vim दोनों का उपयोग करते हैं और वहाँ Neovim के लिए अनुकूलित प्लगइन्स हैं। आप अपने vimrc में ऐसा कुछ जोड़ सकते हैं:

```shell
if has('nvim')
  packadd! neovim-only-plugin
else
  packadd! generic-vim-plugin
endif
```

## पैकेजों का आयोजन

याद रखें कि Vim के पैकेज सिस्टम का उपयोग करने की आवश्यकता है:

```shell
~/.vim/pack/*/start/
```

या:

```shell
~/.vim/pack/*/opt/
```

इस तथ्य का कि `*` *किसी भी* नाम का हो सकता है, आपके पैकेजों को व्यवस्थित करने के लिए उपयोग किया जा सकता है। मान लीजिए कि आप अपने प्लगइन्स को श्रेणियों (रंग, सिंटैक्स, और गेम) के आधार पर समूहित करना चाहते हैं:

```shell
~/.vim/pack/colors/
~/.vim/pack/syntax/
~/.vim/pack/games/
```

आप अभी भी प्रत्येक निर्देशिका के अंदर `start/` और `opt/` का उपयोग कर सकते हैं।

```shell
~/.vim/pack/colors/start/
~/.vim/pack/colors/opt/

~/.vim/pack/syntax/start/
~/.vim/pack/syntax/opt/

~/.vim/pack/games/start/
~/.vim/pack/games/opt/
```

## स्मार्ट तरीके से पैकेज जोड़ना

आप सोच सकते हैं कि क्या Vim पैकेज लोकप्रिय प्लगइन प्रबंधकों जैसे vim-pathogen, vundle.vim, dein.vim, और vim-plug को अप्रचलित बना देगा।

उत्तर हमेशा की तरह है, "यह निर्भर करता है"।

मैं अभी भी vim-plug का उपयोग करता हूँ क्योंकि यह प्लगइन्स को जोड़ना, हटाना या अपडेट करना आसान बनाता है। यदि आप कई प्लगइन्स का उपयोग करते हैं, तो यह प्लगइन प्रबंधकों का उपयोग करना अधिक सुविधाजनक हो सकता है क्योंकि यह एक साथ कई को अपडेट करना आसान है। कुछ प्लगइन प्रबंधक भी असिंक्रोनस कार्यक्षमताएँ प्रदान करते हैं।

यदि आप एक न्यूनतमवादी हैं, तो Vim पैकेजों का प्रयास करें। यदि आप एक भारी प्लगइन उपयोगकर्ता हैं, तो आप एक प्लगइन प्रबंधक का उपयोग करने पर विचार कर सकते हैं।