---
description: هذا المستند يشرح كيفية استخدام ميزات وضع الإدخال في فيم لتحسين كفاءة
  الكتابة، ويستعرض طرق الانتقال إلى وضع الإدخال.
title: Ch06. Insert Mode
---

وضع الإدخال هو الوضع الافتراضي للعديد من محررات النصوص. في هذا الوضع، ما تكتبه هو ما تحصل عليه.

ومع ذلك، لا يعني ذلك أنه لا يوجد الكثير لتتعلمه. يحتوي وضع الإدخال في Vim على العديد من الميزات المفيدة. في هذا الفصل، ستتعلم كيفية استخدام ميزات وضع الإدخال في Vim لتحسين كفاءة الكتابة لديك.

## طرق الدخول إلى وضع الإدخال

هناك العديد من الطرق للدخول إلى وضع الإدخال من الوضع العادي. إليك بعض منها:

```shell
i    إدراج نص قبل المؤشر
I    إدراج نص قبل أول حرف غير فارغ في السطر
a    إضافة نص بعد المؤشر
A    إضافة نص في نهاية السطر
o    يبدأ سطرًا جديدًا أسفل المؤشر ويقوم بإدراج نص
O    يبدأ سطرًا جديدًا فوق المؤشر ويقوم بإدراج نص
s    حذف الحرف تحت المؤشر وإدراج نص
S    حذف السطر الحالي وإدراج نص، مرادف لـ "cc"
gi   إدراج نص في نفس الموضع الذي توقف فيه وضع الإدخال الأخير
gI   إدراج نص في بداية السطر (العمود 1)
```

لاحظ نمط الحروف الصغيرة / الكبيرة. لكل أمر بحروف صغيرة، يوجد نظير له بحروف كبيرة. إذا كنت جديدًا، فلا تقلق إذا لم تتذكر القائمة الكاملة أعلاه. ابدأ بـ `i` و `o`. يجب أن تكون كافية لتبدأ. تعلم المزيد تدريجيًا مع مرور الوقت.

## طرق مختلفة للخروج من وضع الإدخال

هناك بعض الطرق المختلفة للعودة إلى الوضع العادي أثناء وجودك في وضع الإدخال:

```shell
<Esc>     الخروج من وضع الإدخال والذهاب إلى الوضع العادي
Ctrl-[    الخروج من وضع الإدخال والذهاب إلى الوضع العادي
Ctrl-C    مثل Ctrl-[ و <Esc>، ولكن لا يتحقق من الاختصار
```

أجد أن مفتاح `<Esc>` بعيد جدًا للوصول إليه، لذا قمت بربط مفتاح `<Caps-Lock>` ليعمل مثل `<Esc>`. إذا بحثت عن لوحة مفاتيح Bill Joy's ADM-3A (مؤسس Vi)، سترى أن مفتاح `<Esc>` ليس موجودًا في الزاوية العليا اليسرى مثل لوحات المفاتيح الحديثة، بل إلى يسار مفتاح `q`. لهذا السبب أعتقد أنه من المنطقي ربط `<Caps lock>` بـ `<Esc>`.

تقليد شائع آخر رأيت مستخدمي Vim يقومون به هو ربط `<Esc>` بـ `jj` أو `jk` في وضع الإدخال. إذا كنت تفضل هذا الخيار، أضف أحد هذه الأسطر (أو كليهما) في ملف vimrc الخاص بك.

```shell
inoremap jj <Esc>
inoremap jk <Esc>
```

## تكرار وضع الإدخال

يمكنك تمرير معلمة العدد قبل الدخول إلى وضع الإدخال. على سبيل المثال:

```shell
10i
```

إذا كتبت "hello world!" وخرجت من وضع الإدخال، سيقوم Vim بتكرار النص 10 مرات. سيعمل هذا مع أي طريقة من طرق وضع الإدخال (مثل: `10I`، `11a`، `12o`).

## حذف أجزاء في وضع الإدخال

عندما ترتكب خطأ في الكتابة، قد يكون من المرهق الضغط على `<Backspace>` مرارًا وتكرارًا. قد يكون من المنطقي أكثر الانتقال إلى الوضع العادي وحذف خطأك. يمكنك أيضًا حذف عدة أحرف في وقت واحد أثناء وجودك في وضع الإدخال.

```shell
Ctrl-h    حذف حرف واحد
Ctrl-w    حذف كلمة واحدة
Ctrl-u    حذف السطر بالكامل
```

## الإدراج من السجل

يمكن أن تخزن سجلات Vim النصوص للاستخدام المستقبلي. لإدراج نص من أي سجل مسمى أثناء وجودك في وضع الإدخال، اكتب `Ctrl-R` بالإضافة إلى رمز السجل. هناك العديد من الرموز التي يمكنك استخدامها، ولكن في هذا القسم، دعنا نغطي فقط السجلات المسماة (a-z).

لرؤيتها في العمل، تحتاج أولاً إلى نسخ كلمة إلى السجل a. حرك المؤشر على أي كلمة. ثم اكتب:

```shell
"ayiw
```

- `"a` تخبر Vim أن الهدف من الإجراء التالي سيكون في السجل a.
- `yiw` يقوم بنسخ الكلمة الداخلية. راجع الفصل حول قواعد Vim لمراجعة.

الآن يحتوي السجل a على الكلمة التي قمت بنسخها للتو. أثناء وجودك في وضع الإدخال، للصق النص المخزن في السجل a:

```shell
Ctrl-R a
```

هناك أنواع متعددة من السجلات في Vim. سأغطيها بمزيد من التفاصيل في فصل لاحق.

## التمرير

هل كنت تعلم أنه يمكنك التمرير أثناء وجودك في وضع الإدخال؟ أثناء وجودك في وضع الإدخال، إذا ذهبت إلى وضع فرعي `Ctrl-X`، يمكنك القيام بعمليات إضافية. التمرير هو أحدها.

```shell
Ctrl-X Ctrl-Y    التمرير لأعلى
Ctrl-X Ctrl-E    التمرير لأسفل
```

## الإكمال التلقائي

كما ذُكر أعلاه، إذا ضغطت على `Ctrl-X` من وضع الإدخال، سيدخل Vim في وضع فرعي. يمكنك القيام بالإكمال التلقائي للنص أثناء وجودك في هذا الوضع الفرعي لوضع الإدخال. على الرغم من أنه ليس جيدًا مثل [intellisense](https://code.visualstudio.com/docs/editor/intellisense) أو أي بروتوكول خادم لغة آخر (LSP)، ولكنه ميزة قادرة جدًا متاحة مباشرة من الصندوق.

إليك بعض أوامر الإكمال التلقائي المفيدة للبدء:

```shell
Ctrl-X Ctrl-L	   إدراج سطر كامل
Ctrl-X Ctrl-N	   إدراج نص من الملف الحالي
Ctrl-X Ctrl-I	   إدراج نص من الملفات المضمنة
Ctrl-X Ctrl-F	   إدراج اسم ملف
```

عند تفعيل الإكمال التلقائي، سيعرض Vim نافذة منبثقة. للتنقل لأعلى ولأسفل في النافذة المنبثقة، استخدم `Ctrl-N` و `Ctrl-P`.

يمتلك Vim أيضًا اختصارات إكمال تلقائي لا تتضمن وضع `Ctrl-X` الفرعي:

```shell
Ctrl-N             العثور على تطابق الكلمة التالية
Ctrl-P             العثور على تطابق الكلمة السابقة
```

بشكل عام، ينظر Vim إلى النص في جميع المخازن المتاحة كمصدر للإكمال التلقائي. إذا كان لديك مخزن مفتوح يحتوي على سطر يقول "كعكات الشوكولاتة هي الأفضل":
- عندما تكتب "Choco" وتقوم بـ `Ctrl-X Ctrl-L`، سيتطابق ويطبع السطر بالكامل.
- عندما تكتب "Choco" وتقوم بـ `Ctrl-P`، سيتطابق ويطبع كلمة "Chocolate".

الإكمال التلقائي هو موضوع واسع في Vim. هذه مجرد بداية. لمعرفة المزيد، تحقق من `:h ins-completion`.

## تنفيذ أمر من وضع عادي

هل كنت تعلم أن Vim يمكنه تنفيذ أمر من الوضع العادي أثناء وجودك في وضع الإدخال؟

أثناء وجودك في وضع الإدخال، إذا ضغطت على `Ctrl-O`، ستدخل في وضع فرعي إدخال-عادي. إذا نظرت إلى مؤشر الوضع في الأسفل اليسار، سترى عادةً `-- INSERT --`، ولكن الضغط على `Ctrl-O` يغيره إلى `-- (insert) --`. في هذا الوضع، يمكنك القيام بأمر واحد من الوضع العادي. بعض الأشياء التي يمكنك القيام بها:

**المركزة والقفز**

```shell
Ctrl-O zz       مركز النافذة
Ctrl-O H/M/L    القفز إلى أعلى/وسط/أسفل النافذة
Ctrl-O 'a       القفز إلى العلامة a
```

**تكرار النص**

```shell
Ctrl-O 100ihello    إدراج "hello" 100 مرة
```

**تنفيذ أوامر الطرفية**

```shell
Ctrl-O !! curl https://google.com    تشغيل curl
Ctrl-O !! pwd                        تشغيل pwd
```

**الحذف بشكل أسرع**

```shell
Ctrl-O dtz    حذف من الموقع الحالي حتى الحرف "z"
Ctrl-O D      حذف من الموقع الحالي إلى نهاية السطر
```

## تعلم وضع الإدخال بطريقة ذكية

إذا كنت مثلي وتأتي من محرر نصوص آخر، قد يكون من المغري البقاء في وضع الإدخال. ومع ذلك، فإن البقاء في وضع الإدخال عندما لا تدخل نصًا هو نمط مضاد. طور عادة الانتقال إلى الوضع العادي عندما لا تكتب أصابعك نصًا جديدًا.

عندما تحتاج إلى إدراج نص، اسأل نفسك أولاً إذا كان هذا النص موجودًا بالفعل. إذا كان موجودًا، حاول نسخ أو نقل ذلك النص بدلاً من كتابته. إذا كان عليك استخدام وضع الإدخال، انظر إذا كان يمكنك إكمال ذلك النص كلما كان ذلك ممكنًا. تجنب كتابة نفس الكلمة أكثر من مرة إذا استطعت.